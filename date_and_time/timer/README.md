# 计时器
计时器


---


#### 脚本迭代记录

##### timer.sh

|脚本迭代版本|描述|
|---|---|
|timer-1.sh|纯秒表计时器，秒无限增加（sleep有误差）|
|timer-2.sh|分钟计时器，分无限增加，秒无限循环|
|timer-3.sh|小时计时器，小时无限增加，分、秒无限循环|
|timer-4.sh|天计时器，天无限增加，时、分、秒无限循环|
|timer-5.sh|修复计时误差大的问题（程序进行循环判断后sleep一秒导致的误差），记录初始秒，不断做减法，当秒等于1，增加秒数等于1，更新初始秒为最新秒，秒+1，显示计时时间，秒无限增加|
|timer-6.sh|修复计时误差大的问题（程序进行循环判断后sleep一秒导致的误差），代码优化，天计时器，天无限增加，时、分、秒无限循环|
|timer-6-1.sh|增加回显功能，天计时器，天无限增加，时、分、秒无限循环|
|timer-7.sh|优化显示功能，代码优化，天计时器，天无限增加，时、分、秒无限循环|
|timer-7-1.sh|增加回显功能，显示功能优化，天计时器，天无限增加，时、分、秒无限循环|
|||


---


#### 脚本逻辑

##### timer-2.sh 逻辑

    秒一直显示0-59
    当分钟数等于0，只显示秒，即 echo $s s
    当分钟数大于0，显示分钟和秒，即 echo $m m $s s
    当秒等于60，分钟+1，秒归零，只显示分钟，即 s=0，echo $m m

|分钟|秒|显示|
|---|---|---|
|0|0|0 s|
|1|1|1 m 1 s|
|1|0|1 m|
||||

##### timer-3.sh 逻辑

    秒一直显示0-59
    当分钟数和小时数都等于0，只显示秒，即 echo $s s
    当小时数等于0，显示分钟和秒，即 echo $m m $s s
    当小时数大于0，显示小时、分钟和秒，即 echo $h h $m m $s s
    当秒等于60，分钟+1，秒归零

    分钟一直显示0-59
    当小时等于0，显示分钟，即 echo $m m
    当小时大于0，显示小时和分钟，即 echo $h h $m m
    当分钟等于60，小时+1，分钟归零，只显示小时，即 m=0，echo $h h

|小时|分钟|秒|显示|
|---|---|---|---|
|0|0|0|0 s|
|0|1|1|1 m 1 s|
|1|1|1|1 h 1 m 1 s|
|1|0|1|1 h 1 m 1 s|
|---|---|---|---|
|0|1|0|0 m|
|1|1|0|1 h 1 m|
|1|0|0|1 h|


---

